<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of threeDplot1stream</title>
  <meta name="keywords" content="threeDplot1stream">
  <meta name="description" content="% Script producing a 3-cuts plot">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html AURORA --><!-- menu.html Plotting -->
<h1>threeDplot1stream
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% Script producing a 3-cuts plot</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Script producing a 3-cuts plot
 of differential electron-fluxes in one (the most field-aligned)
 electron-stream.
 
 Before runnign this script electron-fluxes needs to be read
 in. This is typically done with:
 
  [t,h_atm,E,mu_lims,IeZTE,mu_scatterings] = Ie_ztE_loader({'PnLs-07-4000-3keV-0-10'});
  dE = diff(E);dE(end+1) = dE(end);</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>	COLORBAR_LABELED - colorbar with label for range linear or log</li><li><a href="../../AURORA/tools/plotCube.html" class="code" title="function H = plotCube(r_corners,varargin)">plotCube</a>	PLOTCUBE - plot a cube/cuboid/rectangular parallelepiped</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Script producing a 3-cuts plot</span>
0002 <span class="comment">% of differential electron-fluxes in one (the most field-aligned)</span>
0003 <span class="comment">% electron-stream.</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Before runnign this script electron-fluxes needs to be read</span>
0006 <span class="comment">% in. This is typically done with:</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%  [t,h_atm,E,mu_lims,IeZTE,mu_scatterings] = Ie_ztE_loader({'PnLs-07-4000-3keV-0-10'});</span>
0009 <span class="comment">%  dE = diff(E);dE(end+1) = dE(end);</span>
0010 
0011 <span class="comment">%% t-E-z-cube-corners</span>
0012 [rCtEx,rCtEy,rCtEz] = meshgrid(t([1 end]),E([1 size(IeZTE,3)]),h_atm([1 end])/1e3); 
0013 rC = [rCtEx(:),rCtEy(:),rCtEz(:)];
0014 
0015 <span class="comment">%% Slice plot</span>
0016 slice(t,E(1:size(IeZTE,3)),h_atm/1e3,<span class="keyword">...</span>
0017       log10(permute(IeZTE(1:numel(h_atm),:,:),[3 2 1]) ./ <span class="keyword">...</span>
0018             repmat(dE(1:size(IeZTE,3))',[1,numel(t),numel(h_atm)])),<span class="keyword">...</span>
0019       0.5,2500,150),
0020 shading flat
0021 axis tight
0022 caxis(max(caxis)+[-5 0])
0023 set(gca,<span class="string">'ydir'</span>,<span class="string">'normal'</span>,<span class="string">'yscale'</span>,<span class="string">'log'</span>)                        
0024 set(gca,<span class="string">'ytick'</span>,[10 100 1000],<span class="string">'YMinorGrid'</span>,<span class="string">'off'</span>,<span class="string">'fontsize'</span>,12)
0025 xlabel(<span class="string">'time (s)'</span>,<span class="string">'fontsize'</span>,14)
0026 ylabel(<span class="string">'Energy (eV)'</span>,<span class="string">'fontsize'</span>,14)
0027 zlabel(<span class="string">'height (km)'</span>,<span class="string">'fontsize'</span>,14)
0028 cblh = <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">'#e^-/m^2/s/eV'</span>,<span class="string">'log'</span>);
0029 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)+[-0.01 0.1 0 -0.2])
0030 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)+[-0.0 0.1 0 -0.2]) 
0031 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[-0.0 0.1 0 -0.2])
0032 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)+[-0.0 0.05 0 -0.1])
0033 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)+[-0.0 0.01 0 -0.1])
0034 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)+[-0.0 0.0 0 0.05])  
0035 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[-0.0 0.0 0 0.01])
0036 hold on
0037 <a href="../../AURORA/tools/plotCube.html" class="code" title="function H = plotCube(r_corners,varargin)">plotCube</a>(rC([1 3 4 2 5 7 8 6],:),<span class="string">'linewidth'</span>,2,<span class="string">'color'</span>,<span class="string">'k'</span>)                
0038 plot3(rC([1 3 4 2 1],1),<span class="keyword">...</span>
0039       rC([1 3 4 2 1],2),<span class="keyword">...</span>
0040       150*ones(5,1),<span class="keyword">...</span>
0041       <span class="string">'g'</span>,<span class="string">'linewidth'</span>,2) 
0042 plot3(0.5*ones(5,1),<span class="keyword">...</span>
0043       rC([1 5 6 2 1],2),<span class="keyword">...</span>
0044       rC([1 5 6 2 1],3),<span class="keyword">...</span>
0045       <span class="string">'color'</span>,[0 1 1],<span class="string">'linewidth'</span>,2) 
0046 plot3(rC([1 3 7 5 1],1),<span class="keyword">...</span>
0047       2500*ones(5,1),<span class="keyword">...</span>
0048       rC([1 3 7 5 1],3),<span class="keyword">...</span>
0049       <span class="string">'m'</span>,<span class="string">'linewidth'</span>,2)
0050 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[-0.05 0.0 0 0.0])
0051 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[0.05 0.0 0 0.0]) 
0052 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[0.02 0.0 0 0.0])
0053 title(<span class="string">'Electron flux in stream #1, \theta: 0-10^\circ'</span>,<span class="string">'fontsize'</span>,14)
0054 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[0.0 0.01 0 0.0]) 
0055 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[0.0 -0.005 0 0.0])
0056 set(cblh,<span class="string">'position'</span>,get(cblh,<span class="string">'position'</span>)-[0.0 0.0025 0 0.0]) 
0057 
0058 plot3(rC([1 3],1),2500*ones(2,1),[150 150],<span class="keyword">...</span>
0059       <span class="string">'color'</span>,[1 1 1]/2,<span class="string">'linewidth'</span>,2)
0060 plot3([0.5 0.5],2500*ones(2,1),rC([1 5],3),<span class="keyword">...</span>
0061       <span class="string">'color'</span>,[1/2 1/2 1],<span class="string">'linewidth'</span>,2)
0062 plot3([0.5 0.5],rC([1 2],2),[150 150],<span class="keyword">...</span>
0063       <span class="string">'color'</span>,[0 1 1/2],<span class="string">'linewidth'</span>,2)
0064 
0065 
0066 <span class="comment">%   Copyright ï¿½ 2019 Bjorn Gustavsson, &lt;bjorn.gustavsson@irf.se&gt;</span>
0067 <span class="comment">%   This is free software, licensed under GNU GPL version 2 or later</span></pre></div>
<hr><address>Generated on Mon 18-Nov-2019 14:53:30 by <strong>B.&nbsp;Gustavsson</strong> with <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>