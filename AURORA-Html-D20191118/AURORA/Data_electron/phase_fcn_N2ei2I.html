<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of phase_fcn_N2ei2I</title>
  <meta name="keywords" content="phase_fcn_N2ei2I">
  <meta name="description" content="PHASE_FCN_N2 -">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html AURORA --><!-- menu.html Data_electron -->
<h1>phase_fcn_N2ei2I
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>PHASE_FCN_N2 -</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function [phfcnE,phfcnI] = phase_fcn_N2ei2I(E,theta) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> PHASE_FCN_N2 -</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="DCSN2.html" class="code" title="function [DCS]=DCSN2(Ang,Energy)">DCSN2</a>	</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [phfcnE,phfcnI] = phase_fcn_N2ei2I(E,theta)</a>
0002 <span class="comment">% PHASE_FCN_N2 -</span>
0003 <span class="comment">%</span>
0004 
0005 <span class="keyword">persistent</span> E0 ph2nd phI
0006 
0007 <span class="keyword">for</span> iE = numel(E):-1:1,
0008   <span class="keyword">for</span> i_theta = numel(theta):-1:1,
0009     DCS(i_theta,iE) = <a href="DCSN2.html" class="code" title="function [DCS]=DCSN2(Ang,Energy)">DCSN2</a>(theta(i_theta),E(iE));
0010   <span class="keyword">end</span>
0011 <span class="keyword">end</span>
0012 i3 = find(E&gt;=4.796,1,<span class="string">'first'</span>);
0013 <span class="keyword">for</span> iE = 1:(i3-1),
0014   DCS(:,iE) = DCS(:,i3);
0015 <span class="keyword">end</span>
0016 
0017 phfcnE = DCS./repmat(sum(DCS,1),size(theta));
0018 
0019 <span class="keyword">for</span> iE = numel(E):-1:1,
0020   
0021   <span class="keyword">if</span> E(iE)&lt;=150
0022     Etmp = E(iE)*exp(0.025*(E(iE)-5.0));
0023   <span class="keyword">else</span>
0024     Etmp = 50*E(iE);
0025   <span class="keyword">end</span>
0026   <span class="keyword">for</span> i_theta = numel(theta):-1:1,
0027     DCS(i_theta,iE) = <a href="DCSN2.html" class="code" title="function [DCS]=DCSN2(Ang,Energy)">DCSN2</a>(theta(i_theta),E(iE));
0028   <span class="keyword">end</span>
0029 <span class="keyword">end</span>
0030 
0031 phfcnI = DCS./repmat(sum(DCS,1),size(theta));
0032 
0033 <span class="comment">% $$$ for iE0 = 1:7,</span>
0034 <span class="comment">% $$$   D = load(N2files(iE0).name);</span>
0035 <span class="comment">% $$$   phiD = D(1,2:end-1)*pi/180;</span>
0036 <span class="comment">% $$$   E_D = D(2:end,1);</span>
0037 <span class="comment">% $$$   E_peakN2(iE0) = max(E_D);</span>
0038 <span class="comment">% $$$   sigmaD = D(2:end,2:end-1);</span>
0039 <span class="comment">% $$$   sigma_totD = D(2:end,end);</span>
0040 <span class="comment">% $$$   sigma_2nde_N2(iE0,1:numel(sigma_totD)) = sigma_totD;</span>
0041 <span class="comment">% $$$   sigma2EphiC = ddsigma_2nde(phiD,E_D,sigmaD,sigma_totD,721);</span>
0042 <span class="comment">% $$$   ph_2nde_N(iE0,1:numel(E_D),:) = sigma2EphiC./repmat(sum(sigma2EphiC,2),[1,size(sigma2EphiC,2)]);</span>
0043 <span class="comment">% $$$   scrollsubplot(3,2,1+2*(iE0-1))</span>
0044 <span class="comment">% $$$   surf(phiD*180/pi,(E_D),log10(sigmaD)),view(0,90),shading flat</span>
0045 <span class="comment">% $$$   set(gca,'yscale','log')</span>
0046 <span class="comment">% $$$   cx = caxis;</span>
0047 <span class="comment">% $$$   axis([0 180,4 10^2.6])</span>
0048 <span class="comment">% $$$   scrollsubplot(3,2,2*iE0)</span>
0049 <span class="comment">% $$$   surf(phi721*180/pi,(E_D),log10(medfilt2(sigma2EphiC,[3 3]))),shading flat</span>
0050 <span class="comment">% $$$   set(gca,'yscale','log')</span>
0051 <span class="comment">% $$$   caxis(cx)</span>
0052 <span class="comment">% $$$   view(0,90)</span>
0053 <span class="comment">% $$$   axis([0 180,4 10^2.6])</span>
0054 <span class="comment">% $$$ end</span></pre></div>
<hr><address>Generated on Mon 18-Nov-2019 14:53:30 by <strong>B.&nbsp;Gustavsson</strong> with <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>