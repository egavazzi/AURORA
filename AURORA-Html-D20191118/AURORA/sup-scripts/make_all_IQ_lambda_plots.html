<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of make_all_IQ_lambda_plots</title>
  <meta name="keywords" content="make_all_IQ_lambda_plots">
  <meta name="description" content="% Volume and Column intensity-plots">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html AURORA --><!-- menu.html sup-scripts -->
<h1>make_all_IQ_lambda_plots
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% Volume and Column intensity-plots</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Volume and Column intensity-plots
 This script produces plots of altitude-time-variation of volume
 emission-rates and time-variation of normalized
 column-emission(excitation) intensity plots.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>	COLORBAR_LABELED - colorbar with label for range linear or log</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Volume and Column intensity-plots</span>
0002 <span class="comment">% This script produces plots of altitude-time-variation of volume</span>
0003 <span class="comment">% emission-rates and time-variation of normalized</span>
0004 <span class="comment">% column-emission(excitation) intensity plots.</span>
0005 
0006 <span class="comment">%% Root result-directories</span>
0007 <span class="keyword">if</span> ~exist(<span class="string">'results_dir'</span>,<span class="string">'var'</span>) || isempty(results_dir)
0008   results_dir = <span class="string">'/media/bgu001/5f5e8978-a828-4fd4-aabf-2032a3fb895b/Data/Bjorns-panic-repository/Etrp-tdms'</span>;
0009 <span class="keyword">end</span>
0010 
0011 <span class="comment">%% Run-directories:</span>
0012 <span class="keyword">if</span> ~exist(<span class="string">'RunDirs'</span>,<span class="string">'var'</span>) || isempty(RunDirs)
0013   RunDirs = {<span class="string">'Run_PnL20190828'</span>;
0014              <span class="string">'Run_AWA20190920'</span>;
0015              <span class="string">'Run_PnL20190916'</span>;
0016              <span class="string">'Run_PnL20191018'</span>};
0017 <span class="keyword">end</span>
0018 
0019 <span class="comment">%% Hard-coded output-directory</span>
0020 FigDir = <span class="string">'Figures'</span>;
0021 mkdir(fullfile(results_dir,FigDir))
0022 
0023 <span class="comment">%% Loop away!</span>
0024 <span class="keyword">for</span> i2 = 1:numel(RunDirs)
0025   cd(results_dir)
0026   cd(RunDirs{i2})
0027   dDir = dir;
0028   <span class="keyword">for</span> i1 = 3:numel(dDir)
0029     cd(results_dir)
0030     cd(RunDirs{i2})
0031     <span class="keyword">if</span> dDir(i1).isdir
0032       cd(dDir(i1).name)
0033       <span class="keyword">try</span>
0034         load Qzt_all_L.mat Q4278 Q6730 Q7774 Q8446 QO1D QO1S h_atm t
0035         <span class="keyword">if</span> numel(t) ~= size(Q4278,2)
0036           t = [t,t(end)+t(2:end)];
0037         <span class="keyword">end</span>
0038         clf
0039         subplot(3,2,1)
0040         pcolor(t(1:size(Q4278,2)),h_atm/1e3,Q4278),
0041         title(<span class="string">'4278'</span>)
0042         shading flat
0043         ax = axis;
0044         axis([ax(1:3) 300])
0045         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0046         subplot(3,2,2)
0047         pcolor(t(1:size(Q4278,2)),h_atm/1e3,Q6730),
0048         title(<span class="string">'6730'</span>)
0049         shading flat
0050         ax = axis;
0051         axis([ax(1:3) 300])
0052         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0053         subplot(3,2,3)
0054         pcolor(t(1:size(Q4278,2)),h_atm/1e3,Q7774),
0055         title(<span class="string">'7774'</span>)
0056         ylabel(<span class="string">'height (km)'</span>)
0057         shading flat
0058         ax = axis;
0059         axis([ax(1:3) 300])
0060         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0061         subplot(3,2,4)
0062         pcolor(t(1:size(Q4278,2)),h_atm/1e3,Q8446),
0063         title(<span class="string">'8446'</span>)
0064         shading flat
0065         ax = axis;
0066         axis([ax(1:3) 300])
0067         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0068         subplot(3,2,5)
0069         pcolor(t(1:size(Q4278,2)),h_atm/1e3,QO1D),
0070         title(<span class="string">'O1D'</span>)
0071         shading flat
0072         xlabel(<span class="string">'time (s)'</span>)
0073         ax = axis;
0074         axis([ax(1:3) 300])
0075         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0076         subplot(3,2,6)
0077         pcolor(t(1:size(Q4278,2)),h_atm/1e3,QO1S),
0078         title(<span class="string">'O1S'</span>)
0079         shading flat
0080         xlabel(<span class="string">'time (s)'</span>)
0081         ax = axis;
0082         axis([ax(1:3) 300])
0083         <a href="../../AURORA/tools/colorbar_labeled.html" class="code" title="function handle=colorbar_labeled(label,lg,varargin)">colorbar_labeled</a>(<span class="string">''</span>)
0084         orient tall
0085         print(<span class="string">'-depsc2'</span>,<span class="string">'-painters'</span>,fullfile(results_dir,FigDir,[dDir(i1).name,<span class="string">'-'</span>,RunDirs{i2},<span class="string">'-Qtz-01.eps'</span>]))
0086         print(<span class="string">'-dpng'</span>,<span class="string">'-painters'</span>,fullfile(results_dir,FigDir,[dDir(i1).name,<span class="string">'-'</span>,RunDirs{i2},<span class="string">'-Qtz-01.png'</span>]))
0087         load I_lambda_of_t.mat t I_4278 I_6730 I_7774 I_7774_O I_7774_O2 I_8446 I_8446_O I_8446_O2 I_O1D I_O1S
0088         clf
0089         ph = plot(t(1:numel(I_4278)),<span class="keyword">...</span>
0090                   [I_4278/max(I_4278);
0091                    I_6730/max(I_6730);
0092                    I_7774/max(I_7774);
0093                    I_8446/max(I_8446);
0094                    I_O1D/max(I_O1D);
0095                    I_O1S/max(I_O1S);
0096                    I_7774_O/max(I_7774);
0097                    I_7774_O2/max(I_7774);
0098                    I_8446_O/max(I_8446);
0099                    I_8446_O2/max(I_8446)]);
0100         xlabel(<span class="string">'time (s)'</span>,<span class="string">'fontsize'</span>,15)
0101         ylabel(<span class="string">'(%)'</span>,<span class="string">'fontsize'</span>,15)
0102         title(<span class="string">'Intensity Modulation'</span>,<span class="string">'fontsize'</span>,15)
0103         ax = axis;
0104         axis([ax(1:3) 1.05])
0105         set(ph,<span class="string">'linewidth'</span>,2)
0106         set(ph(1),<span class="string">'color'</span>,<span class="string">'b'</span>)
0107         set(ph(2),<span class="string">'color'</span>,<span class="string">'r'</span>)
0108         set(ph(3),<span class="string">'color'</span>,[0.5 0 0])
0109         set(ph(4),<span class="string">'color'</span>,<span class="string">'k'</span>)
0110         set(ph(5),<span class="string">'color'</span>,[1 0.2 0],<span class="string">'linestyle'</span>,<span class="string">'--'</span>,<span class="string">'linewidth'</span>,1)
0111         set(ph(6),<span class="string">'color'</span>,<span class="string">'g'</span>,<span class="string">'linestyle'</span>,<span class="string">'--'</span>,<span class="string">'linewidth'</span>,1)
0112         
0113         set(ph(7),<span class="string">'color'</span>,[0.5 0 0],<span class="string">'linestyle'</span>,<span class="string">'-.'</span>,<span class="string">'linewidth'</span>,1)
0114         set(ph(8),<span class="string">'color'</span>,[0.5 0 0],<span class="string">'linestyle'</span>,<span class="string">'--'</span>,<span class="string">'linewidth'</span>,1)
0115 
0116         set(ph(9),<span class="string">'color'</span>,<span class="string">'k'</span>,<span class="string">'linestyle'</span>,<span class="string">'-.'</span>,<span class="string">'linewidth'</span>,1)
0117         set(ph(10),<span class="string">'color'</span>,<span class="string">'k'</span>,<span class="string">'linestyle'</span>,<span class="string">'--'</span>,<span class="string">'linewidth'</span>,1)
0118         
0119         legend(ph,<span class="keyword">...</span>
0120                <span class="string">'I_{4278}'</span>,<span class="keyword">...</span>
0121                <span class="string">'I_{6730}'</span>,<span class="keyword">...</span>
0122                <span class="string">'I_{7774}'</span>,<span class="keyword">...</span>
0123                <span class="string">'I_{8446}'</span>,<span class="keyword">...</span>
0124                <span class="string">'I_{O(^1D)}'</span>,<span class="keyword">...</span>
0125                <span class="string">'I_{O(^1S)}'</span>,<span class="keyword">...</span>
0126                <span class="string">'I_{7774}(O)'</span>,<span class="keyword">...</span>
0127                <span class="string">'I_{7774}(O_2)'</span>,<span class="keyword">...</span>
0128                <span class="string">'I_{8446}(O)'</span>,<span class="keyword">...</span>
0129                <span class="string">'I_{8446}(O_2)'</span>,<span class="keyword">...</span>
0130                <span class="string">'location'</span>,<span class="string">'northwest'</span>)
0131         orient portrait
0132         <span class="comment">% Figures saved as both .png and .eps-files</span>
0133         print(<span class="string">'-depsc2'</span>,<span class="string">'-painters'</span>,fullfile(results_dir,FigDir,[dDir(i1).name,<span class="string">'-'</span>,RunDirs{i2},<span class="string">'-It-01.eps'</span>]))
0134         print(<span class="string">'-dpng'</span>,<span class="string">'-painters'</span>,fullfile(results_dir,FigDir,[dDir(i1).name,<span class="string">'-'</span>,RunDirs{i2},<span class="string">'-It-01.png'</span>]))
0135       <span class="keyword">catch</span>
0136         fprintf(<span class="string">'Everythings not right in directory: %s\n'</span>,pwd)
0137       <span class="keyword">end</span>
0138     <span class="keyword">end</span>
0139   <span class="keyword">end</span>
0140 <span class="keyword">end</span>
0141 
0142 
0143 <span class="comment">%   Copyright � 2019 Bjorn Gustavsson, &lt;bjorn.gustavsson@irf.se&gt;</span>
0144 <span class="comment">%   This is free software, licensed under GNU GPL version 2 or later</span></pre></div>
<hr><address>Generated on Mon 18-Nov-2019 14:53:30 by <strong>B.&nbsp;Gustavsson</strong> with <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>